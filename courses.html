<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>專業培訓課程 | 全齡共融賦能生態圈</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+TC:wght@400;600;700&family=Noto+Sans+TC:wght@300;400;500;700&display=swap" rel="stylesheet">
    
    <script src="https://unpkg.com/lucide@latest"></script>
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: { 
                        sans: ['Noto Sans TC', 'sans-serif'],
                        serif: ['Noto Serif TC', 'serif']
                    },
                    colors: {
                        primary: '#1E3A8A', // 深藍文字
                        secondary: '#4ECDC4', // 按鈕綠色
                        accent: '#F7DC6F', // 價格黃色
                        beige: '#FFFBF0', // 背景米色
                        'card-border': '#A5D8D6' // 卡片虛線邊框色
                    }
                }
            }
        }
    </script>
    <style>
        /* 仿照圖片的虛線邊框效果 */
        .dashed-card {
            border: 2px dashed #BCE0FD;
            border-radius: 1.5rem;
            transition: all 0.3s ease;
        }
        .dashed-card:hover {
            border-color: #4ECDC4;
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.05);
        }
        /* 隱藏 Modal 捲軸 */
        .hide-scrollbar::-webkit-scrollbar { display: none; }
        .hide-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
    </style>
</head>
<body class="bg-white text-gray-800 font-sans">

    <nav class="bg-white shadow-sm sticky top-0 z-40">
        <div class="container mx-auto px-4 h-16 flex items-center justify-between">
            <a href="/index.html" class="flex items-center gap-2 font-bold text-primary">
                <i data-lucide="arrow-left"></i> 返回首頁
            </a>
            <div class="flex items-center gap-3">
                <button class="p-2 rounded-full hover:bg-gray-100 relative">
                    <i data-lucide="shopping-cart" class="w-5 h-5 text-gray-600"></i>
                </button>
            </div>
        </div>
    </nav>

    <header class="bg-beige py-16 text-center">
        <div class="container mx-auto px-4">
            <h1 class="text-4xl md:text-5xl font-bold text-primary font-serif mb-4 tracking-wide">專業培訓課程</h1>
            <p class="text-gray-600 text-lg mb-10 tracking-wider">提升照護專業能力，為長者提供更優質的服務</p>
            </div>
    </header>

    <section class="py-16">
        <div class="container mx-auto px-4">
            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8" id="courseGrid">
                </div>
        </div>
    </section>

    <footer class="bg-gray-900 text-white py-12 border-t border-gray-800">
        <div class="container mx-auto px-4 text-center">
            <p class="text-xs text-gray-500">© 2025 Community Living Loop. All rights reserved.</p>
        </div>
    </footer>

    <div id="courseModal" class="fixed inset-0 z-50 hidden overflow-hidden bg-gray-900 bg-opacity-75 flex items-center justify-center">
        <div class="bg-white w-full max-w-6xl h-[90vh] rounded-2xl overflow-hidden flex flex-col md:flex-row relative mx-4 shadow-2xl">
            <button onclick="closeModal()" class="absolute top-4 right-4 z-50 p-2 bg-white/80 rounded-full hover:bg-gray-100 transition">
                <i data-lucide="x" class="w-6 h-6 text-gray-500"></i>
            </button>

            <div class="w-full md:w-2/3 h-full overflow-y-auto p-8 hide-scrollbar bg-white">
                <div id="modalImageContainer" class="w-full h-64 md:h-80 rounded-2xl overflow-hidden mb-8">
                    <img id="modalImg" src="" alt="Course" class="w-full h-full object-cover">
                </div>
                
                <h2 id="modalTitle" class="text-3xl md:text-4xl font-bold text-primary font-serif mb-4">課程標題</h2>
                <p id="modalDesc" class="text-gray-600 text-lg mb-8 leading-relaxed">課程描述...</p>

                <div id="instructorProfileSection" class="hidden mb-8 bg-blue-50 p-6 rounded-xl border border-blue-100 flex flex-col sm:flex-row items-start sm:items-center gap-6">
                    </div>

                <div class="grid grid-cols-3 gap-6 mb-8 border-t border-gray-100 pt-8">
                    <div>
                        <p class="text-sm text-gray-400 mb-1">課程時長</p>
                        <p id="modalDuration" class="text-lg font-bold text-gray-800">12週</p>
                    </div>
                    <div>
                        <p class="text-sm text-gray-400 mb-1">名額</p>
                        <p id="modalCapacity" class="text-lg font-bold text-gray-800">22/30 人</p>
                    </div>
                    <div>
                        <p class="text-sm text-gray-400 mb-1">課程費用</p>
                        <p id="modalPrice" class="text-xl font-bold text-[#E6C65B]">NT$ 8,000</p>
                    </div>
                </div>

                <div class="mb-8" id="modalFeaturesContainer">
                    <h3 class="text-xl font-bold text-primary mb-4 border-l-4 border-secondary pl-3">課程特色</h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-3" id="modalFeatures"></div>
                </div>
                <div class="mb-8">
                    <h3 class="text-xl font-bold text-primary mb-4 border-l-4 border-secondary pl-3">近期開課時間</h3>
                    <div class="space-y-4" id="modalSchedule"></div>
                </div>
            </div>

            <div class="w-full md:w-1/3 h-full bg-[#F8FAFC] border-l border-gray-100 p-8 flex flex-col overflow-y-auto">
                <h3 class="text-xl font-bold text-primary mb-6">立即報名</h3>
                <form onsubmit="event.preventDefault(); alert('報名申請已送出！'); closeModal();" class="space-y-5">
                     <div>
                        <label class="block text-sm font-bold text-gray-700 mb-2">選擇上課時段 *</label>
                        <div class="space-y-2" id="formScheduleOptions"></div>
                    </div>
                    <button type="submit" class="w-full bg-secondary text-white font-bold py-3.5 rounded-lg hover:bg-[#3dbdb4] transition-colors shadow-lg mt-4">確認報名</button>
                </form>
            </div>
        </div>
    </div>

    <script>
        lucide.createIcons();

        // 課程資料庫 (包含原有的3個 + 新增的6個)
        const courses = {
            'icope': {
                id: 'icope',
                tag: '專業認證',
                title: 'ICOPE培訓',
                shortDesc: 'WHO整合式高齡照護評估與介入培訓。',
                desc: 'WHO整合式高齡照護評估與介入培訓，提升照護專業能力，學習如何全面評估長者功能。',
                img: 'https://images.unsplash.com/photo-1576091160399-112ba8d25d1d?auto=format&fit=crop&q=80&w=800',
                instructor: '張文華 (資深護理師)',
                duration: '12週', capacity: '22/30 人', price: 'NT$ 8,000',
                location: '嘉義市醫療中心',
                features: ['WHO認證架構教學', '實務操作演練', '專業證書'],
                schedule: [{ date: '2026/2/6', time: '09:00-12:00' }]
            },
            'book': {
                id: 'book',
                tag: '認知訓練',
                title: '繪本模組培訓',
                shortDesc: '學習使用繪本進行認知刺激與情感交流。',
                desc: '學習使用繪本進行認知刺激與情感交流，適合照護者與教育工作者。透過故事引導長者回憶與表達，重塑生活的溫度。',
                img: 'https://images.unsplash.com/photo-1512820790803-83ca734da794?auto=format&fit=crop&q=80&w=800',
                instructor: '林美玲 (職能治療師)',
                duration: '6週', capacity: '10/15 人', price: 'NT$ 2,400',
                location: '嘉義市圖書館',
                features: ['繪本導讀技巧', '教案設計實務', '結業證書'],
                schedule: [{ date: '2026/2/4', time: '14:00-16:00' }, { date: '2026/2/11', time: '14:00-16:00' }]
            },
            'nutrition': {
                id: 'nutrition',
                tag: '營養專業',
                title: '營養及飲食培訓',
                shortDesc: '銀髮族營養需求與飲食計劃實務。',
                desc: '銀髮族營養需求與飲食計劃實務，學習如何為長者設計兼具美味與健康的餐食，預防肌少症。',
                img: 'https://images.unsplash.com/photo-1490645935967-10de6ba17061?auto=format&fit=crop&q=80&w=800',
                instructor: '王大同 (專科營養師)',
                duration: '8週', capacity: '14/18 人', price: 'NT$ 3,600',
                location: '嘉義市烹飪教室',
                features: ['高齡營養學基礎', '質地調整餐食實作', '菜單設計演練'],
                schedule: [{ date: '2026/2/7', time: '09:30-12:00' }]
            },
            // 新增課程 1: 認知活力訓練 (Cognitive)
            'cognitive': {
                id: 'cognitive',
                tag: '認知活力',
                title: '長者認知活力訓練',
                shortDesc: '透過數位工具與遊戲，活化大腦功能。',
                desc: '專為長者設計的認知訓練課程，結合平板操作與趣味遊戲，有效刺激記憶力、專注力與邏輯思考能力，預防認知退化。',
                // 使用新生成的台灣場景圖片
                img: 'image_8.png', 
                instructor: '李曉雯 (臨床心理師)',
                duration: '10週', capacity: '12/20 人', price: 'NT$ 5,000',
                location: '台北市社區活動中心',
                features: ['數位認知工具應用', '個人化訓練計畫', '前後測評估報告'],
                schedule: [{ date: '2026/3/1', time: '10:00-12:00' }]
            },
             // 新增課程 2: 防跌倒運動班 (Mobility)
            'mobility': {
                id: 'mobility',
                tag: '行動防跌',
                title: '銀髮族防跌倒運動班',
                shortDesc: '增強肌力與平衡感，降低跌倒風險。',
                desc: '由物理治療師指導，針對下肢肌力與核心肌群進行強化訓練，並搭配平衡感練習，有效提升長者行動自信，減少跌倒意外。',
                // 使用新生成的台灣場景圖片
                img: '/images/image_15.png',
                instructor: '陳志豪 (物理治療師)',
                duration: '12週', capacity: '15/20 人', price: 'NT$ 4,800',
                location: '台中市健康健身中心',
                features: ['防跌風險評估', '循序漸進肌力訓練', '居家運動指導'],
                schedule: [{ date: '2026/3/5', time: '14:30-16:00' }]
            },
             // 新增課程 3: 銀髮族營養指南 (Nutrition - 替代/進階)
             'nutrition_adv': {
                id: 'nutrition_adv',
                tag: '營養諮詢',
                title: '銀髮族個人化營養指南',
                shortDesc: '一對一營養諮詢，量身打造飲食計畫。',
                desc: '提供專業的一對一營養諮詢服務，根據長者的健康狀況、飲食習慣與生活型態，量身制定專屬的營養補充與飲食調整計畫。',
                 // 使用新生成的台灣場景圖片
                img: '/images/image_10.png',
                instructor: '林雅婷 (資深營養師)',
                duration: '預約制', capacity: '名額有限', price: 'NT$ 1,200/次',
                location: '高雄市營養諮詢中心',
                features: ['個別化飲食評估', '慢性病飲食指導', '營養品補充建議'],
                schedule: [{ date: '請來電預約', time: '彈性時間' }]
            },
            // 新增課程 4: 視力保健講座 (Vision)
            'vision': {
                id: 'vision',
                tag: '視力保健',
                title: '高齡視力保健講座',
                shortDesc: '了解常見眼疾，學習日常護眼知識。',
                desc: '邀請眼科醫師講解白內障、青光眼、黃斑部病變等高齡常見眼疾的成因、症狀與預防治療方法，並教授日常護眼保健操。',
                 // 使用新生成的日本場景圖片 (示意高品質檢查)
                img: '/images/image_11.png',
                instructor: '田中醫師 (眼科專科醫師)',
                duration: '單場講座', capacity: '45/50 人', price: '免費參加',
                location: '台北市松山區民活動中心',
                features: ['專業醫師解說', '現場視力篩檢', '護眼手冊發放'],
                schedule: [{ date: '2026/3/15', time: '14:00-16:00' }]
            },
             // 新增課程 5: 聽力篩檢與保健 (Hearing)
            'hearing': {
                id: 'hearing',
                tag: '聽力保健',
                title: '聽力篩檢與保健工作坊',
                shortDesc: '早期發現聽力問題，改善溝通品質。',
                desc: '提供專業的聽力篩檢服務，並教導如何保護聽力、正確使用助聽器，以及與聽力退化長者溝通的技巧，改善生活品質與人際關係。',
                 // 使用新生成的台灣場景圖片
                img: '/images/image_12.png',
                instructor: '黃嘉玲 (聽力師)',
                duration: '半日工作坊', capacity: '20/30 人', price: 'NT$ 500 (含篩檢費)',
                location: '高雄市聽力保健中心',
                features: ['標準聽力檢查', '助聽輔具介紹', '溝通策略演練'],
                schedule: [{ date: '2026/3/22', time: '09:00-12:00' }]
            },
             // 新增課程 6: 心理健康講座 (Psychology)
            'psychology': {
                id: 'psychology',
                tag: '心理健康',
                title: '銀髮族樂活心理講座',
                shortDesc: '調適退休心情，建立正向老化心態。',
                desc: '透過團體分享與專家引導，探討退休後的心理調適、孤獨感排解與情緒管理，協助長者建立積極正向的老化心態，享受樂齡生活。',
                 // 使用新生成的台灣場景圖片
                img: '/images/image_13.png',
                instructor: '陳心怡 (諮商心理師)',
                duration: '系列講座 (共4場)', capacity: '25/30 人', price: 'NT$ 2,000',
                location: '台南市社區大學',
                features: ['情緒壓力檢測', '團體支持分享', '正念減壓練習'],
                schedule: [{ date: '2026/4/1 起每週三', time: '19:00-21:00' }]
            },
             // 新增課程 7: 口腔機能照護 (Oral Care - 替代/進階)
            'oral_care': {
                id: 'oral_care',
                tag: '口腔照護',
                title: '高齡口腔機能照護實務',
                shortDesc: '預防吸入性肺炎，維持咀嚼吞嚥功能。',
                desc: '學習正確的口腔清潔技巧、健口操與吞嚥訓練方法，有效預防吸入性肺炎，維持長者良好的咀嚼吞嚥功能與口腔衛生。',
                 // 使用新生成的日本場景圖片 (示意專業指導)
                img: '/images/image_14.png',
                instructor: '佐藤歯科衛生士',
                duration: '一日課程', capacity: '18/20 人', price: 'NT$ 3,000',
                location: '台北市牙醫師公會',
                features: ['口腔清潔實作', '健口操帶領技巧', '吞嚥困難評估'],
                schedule: [{ date: '2026/4/12', time: '09:00-16:00' }]
            }
        };

        // 動態生成課程卡片
        const courseGrid = document.getElementById('courseGrid');
        Object.values(courses).forEach(course => {
            const cardHtml = `
                <div class="dashed-card bg-white overflow-hidden p-2 flex flex-col h-full">
                    <div class="relative h-56 rounded-2xl overflow-hidden">
                        <img src="${course.img}" alt="${course.title}" class="w-full h-full object-cover hover:scale-105 transition-transform duration-500">
                        <span class="absolute top-4 right-4 bg-yellow-400 text-primary px-3 py-1 rounded-full text-sm font-bold shadow-sm">${course.tag}</span>
                    </div>
                    <div class="p-6 flex-1 flex flex-col">
                        <h3 class="text-2xl font-bold text-primary font-serif mb-3">${course.title}</h3>
                        <p class="text-gray-500 text-sm mb-6 leading-relaxed">${course.shortDesc}</p>
                        <div class="mt-auto flex items-center justify-between pt-4 border-t border-dashed border-gray-200">
                            <span class="text-2xl font-bold text-[#E6C65B]">${course.price}</span>
                            <div class="flex gap-2">
                                <button onclick="openModal('${course.id}')" class="px-4 py-1.5 bg-secondary text-white rounded-full font-medium hover:bg-[#3dbdb4] transition flex items-center gap-1">查看詳情 <i data-lucide="arrow-right" class="w-4 h-4"></i></button>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            courseGrid.innerHTML += cardHtml;
        });

        const modal = document.getElementById('courseModal');
        const instructorSection = document.getElementById('instructorProfileSection');

        function openModal(id) {
            const data = courses[id];
            if(!data) return;

            document.getElementById('modalTitle').innerText = data.title;
            document.getElementById('modalDesc').innerText = data.desc;
            document.getElementById('modalImg').src = data.img;
            document.getElementById('modalDuration').innerText = data.duration;
            document.getElementById('modalCapacity').innerText = data.capacity;
            document.getElementById('modalPrice').innerText = data.price;

            // 簡化的講師資訊顯示 (因部分新課程未生成詳細講師資料)
            instructorSection.classList.remove('hidden');
            instructorSection.innerHTML = `
                <div>
                    <p class="text-sm text-gray-400 mb-1">課程講師</p>
                    <p class="text-lg font-bold text-gray-800">${data.instructor}</p>
                </div>
            `;

            document.getElementById('modalFeatures').innerHTML = data.features.map(f => `<div class="flex items-center gap-2 text-gray-600"><i data-lucide="check-circle-2" class="w-5 h-5 text-secondary"></i> ${f}</div>`).join('');
            document.getElementById('modalSchedule').innerHTML = data.schedule.map(s => `<div class="border border-gray-200 rounded-xl p-4"><p class="font-bold">${s.date}</p><p class="text-sm text-gray-500">${s.time} | ${data.location}</p></div>`).join('');
            document.getElementById('formScheduleOptions').innerHTML = data.schedule.map((s, i) => `<label class="flex items-center p-3 border rounded-lg bg-white"><input type="radio" name="timeSlot" class="text-secondary" ${i===0?'checked':''}><span class="ml-3">${s.date} ${s.time}</span></label>`).join('');

            modal.classList.remove('hidden');
            document.body.style.overflow = 'hidden';
            lucide.createIcons();
        }

        function closeModal() {
            modal.classList.add('hidden');
            document.body.style.overflow = '';
        }

        modal.addEventListener('click', function(e) {
            if (e.target === modal) closeModal();
        });
    </script>
</body>
</html>
